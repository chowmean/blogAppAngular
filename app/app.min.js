"use strict";var baseUrl="http://54.191.251.207:8085/api";angular.module("myApp",["ngRoute","myApp.viewBlog","myApp.reviewBlog","myApp.dashboard","myApp.writeBlog","myApp.users","ngAnimate","toastr"]).config(["$locationProvider","$routeProvider","$httpProvider",function(e,o,r){e.hashPrefix("!"),r.interceptors.push(function(e){return{request:function(e){return $("#processing").show(),e},response:function(e){return $("#processing").hide(),e}}}),o.otherwise({redirectTo:"/viewBlog"})}]).factory("myService",function(e){return{isAdmin:function(){return e.localStorage.getItem("role")==admin&&null!=e.localStorage.getItem("tokenData")}}}).controller("loginController",function(e,o,r,t,n){e.user={username:"",password:""},e.newUser={email:"",username:"",password:""},e.checkLogin=function(){var e=o.localStorage.getItem("tokenData");return!!e},e.checkAdmin=function(){var e=o.localStorage.getItem("role");return"admin"==e},e.loadCat=function(){t({method:"GET",url:baseUrl+"/blogs/categories",headers:{token:o.localStorage.getItem("tokenData")}}).success(function(o){e.categories=o}).error(function(e){console.log("Error loading categories"),n.error("Error loading categories","Category")})},1==e.checkLogin()&&e.loadCat(),e.login=function(){t.post(baseUrl+"/accounts/login",e.user).then(function(r){o.localStorage.setItem("tokenData",r.data.token),o.localStorage.setItem("role",r.data.data[0].role),o.localStorage.setItem("user_id",r.data.data[0].user_id),angular.element("#loginModal").modal("hide"),o.location.href="#",e.loadCat(),n.info("You are Logged In Succesfully.","Logged In")},function(){console.log("error"),n.error("Error Logging in .please try refreshing the page.","Error")})},e.register=function(){t.post(baseUrl+"/accounts/register",e.newUser).then(function(e){angular.element("#myModal").modal("hide"),n.info("Registered Succesfully.","Registration")},function(){n.error("Error in registration. Please try again.","Error")})},e.logout=function(){t({method:"POST",url:baseUrl+"/accounts/logout",headers:{token:o.localStorage.getItem("tokenData")}}).success(function(e){o.localStorage.removeItem("tokenData"),o.localStorage.removeItem("role"),o.localStorage.removeItem("user_id"),n.info("Logged Out Succesfully.","Logout")}).error(function(e){console.log("error"),n.error("Error in Logging out","Error")})},e.isActive=function(e){return e===r.path()}});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJiYXNlVXJsIiwiYW5ndWxhciIsIm1vZHVsZSIsImNvbmZpZyIsIiRsb2NhdGlvblByb3ZpZGVyIiwiJHJvdXRlUHJvdmlkZXIiLCIkaHR0cFByb3ZpZGVyIiwiaGFzaFByZWZpeCIsImludGVyY2VwdG9ycyIsInB1c2giLCIkcSIsInJlcXVlc3QiLCIkIiwic2hvdyIsInJlc3BvbnNlIiwiaGlkZSIsIm90aGVyd2lzZSIsInJlZGlyZWN0VG8iLCJmYWN0b3J5IiwiJHdpbmRvdyIsImlzQWRtaW4iLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiYWRtaW4iLCJjb250cm9sbGVyIiwiJHNjb3BlIiwiJGxvY2F0aW9uIiwiJGh0dHAiLCJ0b2FzdHIiLCJ1c2VyIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsIm5ld1VzZXIiLCJlbWFpbCIsImNoZWNrTG9naW4iLCJhIiwiY2hlY2tBZG1pbiIsImxvYWRDYXQiLCJtZXRob2QiLCJ1cmwiLCJoZWFkZXJzIiwidG9rZW4iLCJzdWNjZXNzIiwiZGF0YSIsImNhdGVnb3JpZXMiLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciLCJsb2dpbiIsInBvc3QiLCJ0aGVuIiwic2V0SXRlbSIsInJvbGUiLCJ1c2VyX2lkIiwiZWxlbWVudCIsIm1vZGFsIiwibG9jYXRpb24iLCJocmVmIiwiaW5mbyIsInJlZ2lzdGVyIiwibG9nb3V0IiwicmVtb3ZlSXRlbSIsImlzQWN0aXZlIiwidmlld0xvY2F0aW9uIiwicGF0aCJdLCJtYXBwaW5ncyI6IkFBQUEsWUFJQSxJQUFBQSxTQUFBLGdDQUVBQyxTQUFBQyxPQUFBLFNBQ0EsVUFDQSxpQkFDQSxtQkFDQSxrQkFDQSxrQkFDQSxjQUNBLFlBQ0EsV0FHQUMsUUFBQSxvQkFBQSxpQkFBQSxnQkFBQSxTQUFBQyxFQUFBQyxFQUFBQyxHQUNBRixFQUFBRyxXQUFBLEtBR0FELEVBQUFFLGFBQUFDLEtBQUEsU0FBQUMsR0FDQSxPQUNBQyxRQUFBLFNBQUFSLEdBRUEsTUFEQVMsR0FBQSxlQUFBQyxPQUNBVixHQUdBVyxTQUFBLFNBQUFBLEdBRUEsTUFEQUYsR0FBQSxlQUFBRyxPQUNBRCxNQUtBVCxFQUNBVyxXQUFBQyxXQUFBLGlCQUNBQyxRQUFBLFlBQUEsU0FBQUMsR0FDQSxPQUNBQyxRQUFBLFdBQ0EsTUFBQUQsR0FBQUUsYUFBQUMsUUFBQSxTQUFBQyxPQUFBLE1BQUFKLEVBQUFFLGFBQUFDLFFBQUEsaUJBU0FFLFdBQUEsa0JBQUEsU0FBQUMsRUFBQU4sRUFBQU8sRUFBQUMsRUFBQUMsR0FFQUgsRUFBQUksTUFFQUMsU0FBQSxHQUNBQyxTQUFBLElBR0FOLEVBQUFPLFNBRUFDLE1BQUEsR0FDQUgsU0FBQSxHQUNBQyxTQUFBLElBR0FOLEVBQUFTLFdBQUEsV0FFQSxHQUFBQyxHQUFBaEIsRUFBQUUsYUFBQUMsUUFBQSxZQUNBLFNBQUFhLEdBUUFWLEVBQUFXLFdBQUEsV0FFQSxHQUFBRCxHQUFBaEIsRUFBQUUsYUFBQUMsUUFBQSxPQUNBLE9BQUEsU0FBQWEsR0FTQVYsRUFBQVksUUFBQSxXQUdBVixHQUNBVyxPQUFBLE1BQ0FDLElBQUF2QyxRQUFBLG9CQUNBd0MsU0FBQUMsTUFBQXRCLEVBQUFFLGFBQUFDLFFBQUEsZ0JBQ0FvQixRQUFBLFNBQUFDLEdBRUFsQixFQUFBbUIsV0FBQUQsSUFJQUUsTUFBQSxTQUFBRixHQUNBRyxRQUFBQyxJQUFBLDRCQUNBbkIsRUFBQWlCLE1BQUEsMkJBQUEsZUFLQSxHQUFBcEIsRUFBQVMsY0FDQVQsRUFBQVksVUFFQVosRUFBQXVCLE1BQUEsV0FFQXJCLEVBQUFzQixLQUFBakQsUUFBQSxrQkFBQXlCLEVBQUFJLE1BQ0FxQixLQUFBLFNBQUFQLEdBRUF4QixFQUFBRSxhQUFBOEIsUUFBQSxZQUFBUixFQUFBQSxLQUFBRixPQUNBdEIsRUFBQUUsYUFBQThCLFFBQUEsT0FBQVIsRUFBQUEsS0FBQUEsS0FBQSxHQUFBUyxNQUNBakMsRUFBQUUsYUFBQThCLFFBQUEsVUFBQVIsRUFBQUEsS0FBQUEsS0FBQSxHQUFBVSxTQUNBcEQsUUFBQXFELFFBQUEsZUFBQUMsTUFBQSxRQUNBcEMsRUFBQXFDLFNBQUFDLEtBQUEsSUFDQWhDLEVBQUFZLFVBQ0FULEVBQUE4QixLQUFBLGlDQUFBLGNBRUEsV0FDQVosUUFBQUMsSUFBQSxTQUNBbkIsRUFBQWlCLE1BQUEsb0RBQUEsWUFPQXBCLEVBQUFrQyxTQUFBLFdBRUFoQyxFQUFBc0IsS0FBQWpELFFBQUEscUJBQUF5QixFQUFBTyxTQUNBa0IsS0FBQSxTQUFBUCxHQUVBMUMsUUFBQXFELFFBQUEsWUFBQUMsTUFBQSxRQUNBM0IsRUFBQThCLEtBQUEsMEJBQUEsaUJBRUEsV0FDQTlCLEVBQUFpQixNQUFBLDJDQUFBLFlBTUFwQixFQUFBbUMsT0FBQSxXQUVBakMsR0FDQVcsT0FBQSxPQUNBQyxJQUFBdkMsUUFBQSxtQkFDQXdDLFNBQUFDLE1BQUF0QixFQUFBRSxhQUFBQyxRQUFBLGdCQUNBb0IsUUFBQSxTQUFBQyxHQUVBeEIsRUFBQUUsYUFBQXdDLFdBQUEsYUFDQTFDLEVBQUFFLGFBQUF3QyxXQUFBLFFBQ0ExQyxFQUFBRSxhQUFBd0MsV0FBQSxXQUNBakMsRUFBQThCLEtBQUEsMEJBQUEsWUFHQWIsTUFBQSxTQUFBRixHQUVBRyxRQUFBQyxJQUFBLFNBQ0FuQixFQUFBaUIsTUFBQSx1QkFBQSxZQUlBcEIsRUFBQXFDLFNBQUEsU0FBQUMsR0FDQSxNQUFBQSxLQUFBckMsRUFBQXNDIiwiZmlsZSI6ImFwcC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cblxuXG52YXIgYmFzZVVybD1cImh0dHA6Ly81NC4xOTEuMjUxLjIwNzo4MDg1L2FwaVwiO1xuLy8gRGVjbGFyZSBhcHAgbGV2ZWwgbW9kdWxlIHdoaWNoIGRlcGVuZHMgb24gdmlld3MsIGFuZCBjb21wb25lbnRzXG5hbmd1bGFyLm1vZHVsZSgnbXlBcHAnLCBbXG4gICduZ1JvdXRlJyxcbiAgJ215QXBwLnZpZXdCbG9nJyxcbiAgJ215QXBwLnJldmlld0Jsb2cnLFxuICAnbXlBcHAuZGFzaGJvYXJkJyxcbiAgJ215QXBwLndyaXRlQmxvZycsXG4gICdteUFwcC51c2VycycsXG4gICduZ0FuaW1hdGUnLFxuICAndG9hc3RyJ1xuLy8gICduZ1RvYXN0J1xuXSkuXG5jb25maWcoWyckbG9jYXRpb25Qcm92aWRlcicsICckcm91dGVQcm92aWRlcicsJyRodHRwUHJvdmlkZXInLCBmdW5jdGlvbigkbG9jYXRpb25Qcm92aWRlciwgJHJvdXRlUHJvdmlkZXIsJGh0dHBQcm92aWRlcikge1xuICAkbG9jYXRpb25Qcm92aWRlci5oYXNoUHJlZml4KCchJyk7XG5cblxuICAkaHR0cFByb3ZpZGVyLmludGVyY2VwdG9ycy5wdXNoKGZ1bmN0aW9uKCRxKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdyZXF1ZXN0JzogZnVuY3Rpb24oY29uZmlnKSB7XG4gICAgICAgICQoJyNwcm9jZXNzaW5nJykuc2hvdygpO1xuICAgICAgICByZXR1cm4gY29uZmlnO1xuICAgICAgfSxcblxuICAgICAgJ3Jlc3BvbnNlJzogZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgJCgnI3Byb2Nlc3NpbmcnKS5oaWRlKCk7XG4gICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICAgIH1cbiAgICB9O1xuICB9KTtcblxuICAkcm91dGVQcm92aWRlclxuICAgICAgLm90aGVyd2lzZSh7cmVkaXJlY3RUbzogJy92aWV3QmxvZyd9KTtcbn1dKS5mYWN0b3J5KCdteVNlcnZpY2UnLCBmdW5jdGlvbigkd2luZG93KSB7XG4gIHJldHVybiB7XG4gICAgaXNBZG1pbjogZnVuY3Rpb24oKSB7XG4gICAgICBpZigkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdyb2xlJyk9PWFkbWluICYmICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuRGF0YScpIT1udWxsKXtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBlbHNle1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9O1xufSkuXG5jb250cm9sbGVyKCdsb2dpbkNvbnRyb2xsZXInLCBmdW5jdGlvbigkc2NvcGUsJHdpbmRvdywkbG9jYXRpb24sJGh0dHAsdG9hc3RyLyosbmdUb2FzdCovKSB7XG5cbiAgJHNjb3BlLnVzZXI9XG4gIHtcbiAgICB1c2VybmFtZTonJyxcbiAgICBwYXNzd29yZDonJ1xuICB9XG5cbiAgJHNjb3BlLm5ld1VzZXI9XG4gIHtcbiAgICBlbWFpbDonJyxcbiAgICB1c2VybmFtZTonJyxcbiAgICBwYXNzd29yZDonJ1xuICB9XG5cbiAgJHNjb3BlLmNoZWNrTG9naW49ZnVuY3Rpb24oKVxuICB7XG4gICAgdmFyIGE9JHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW5EYXRhJyk7XG4gICAgaWYoYSl7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgJHNjb3BlLmNoZWNrQWRtaW49ZnVuY3Rpb24oKVxuICB7XG4gICAgdmFyIGE9JHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncm9sZScpO1xuICAgIGlmKGE9PSdhZG1pbicpe1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG5cbiAgJHNjb3BlLmxvYWRDYXQ9ZnVuY3Rpb24oKXtcblxuXG4gICAgJGh0dHAoe1xuICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgdXJsOiBiYXNlVXJsICsgJy9ibG9ncy9jYXRlZ29yaWVzJyxcbiAgICBoZWFkZXJzOiB7J3Rva2VuJzogJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW5EYXRhJyl9fVxuICAgICkuc3VjY2VzcyggZnVuY3Rpb24oIGRhdGEgKVxuICAgIHtcbiAgICAgICRzY29wZS5jYXRlZ29yaWVzPWRhdGE7XG5cblxuICAgIH0pXG4gICAgLmVycm9yKCBmdW5jdGlvbiggZGF0YSkge1xuICAgICAgY29uc29sZS5sb2coJ0Vycm9yIGxvYWRpbmcgY2F0ZWdvcmllcycpO1xuICAgICAgdG9hc3RyLmVycm9yKCdFcnJvciBsb2FkaW5nIGNhdGVnb3JpZXMnLCAnQ2F0ZWdvcnknKTtcbiAgICAgfSk7XG5cbiAgfVxuXG4gIGlmKCRzY29wZS5jaGVja0xvZ2luKCk9PXRydWUpe1xuICAkc2NvcGUubG9hZENhdCgpO31cblxuICAkc2NvcGUubG9naW49ZnVuY3Rpb24oKVxuICB7XG4gICAgJGh0dHAucG9zdChiYXNlVXJsKycvYWNjb3VudHMvbG9naW4nLCAkc2NvcGUudXNlcilcbiAgICAgICAgLnRoZW4oIGZ1bmN0aW9uKGRhdGEpXG4gICAgICAgIHtcbiAgICAgICAgICAkd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0b2tlbkRhdGEnLGRhdGEuZGF0YS50b2tlbik7XG4gICAgICAgICAgJHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncm9sZScsZGF0YS5kYXRhLmRhdGFbMF0ucm9sZSk7XG4gICAgICAgICAgJHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlcl9pZCcsZGF0YS5kYXRhLmRhdGFbMF0udXNlcl9pZCk7XG4gICAgICAgICAgYW5ndWxhci5lbGVtZW50KCcjbG9naW5Nb2RhbCcpLm1vZGFsKCdoaWRlJyk7XG4gICAgICAgICAgJHdpbmRvdy5sb2NhdGlvbi5ocmVmPScjJztcbiAgICAgICAgICAkc2NvcGUubG9hZENhdCgpO1xuICAgICAgICAgIHRvYXN0ci5pbmZvKCdZb3UgYXJlIExvZ2dlZCBJbiBTdWNjZXNmdWxseS4nLCAnTG9nZ2VkIEluJyk7XG4gICAgICAgICAgLy9uZ1RvYXN0LmNyZWF0ZSgnTG9naW4gU3VjY2Vzc2Z1bGwnKTtcbiAgICAgICAgfSwgZnVuY3Rpb24oKXtcbiAgICAgICAgICBjb25zb2xlLmxvZygnZXJyb3InKTtcbiAgICAgICAgICB0b2FzdHIuZXJyb3IoJ0Vycm9yIExvZ2dpbmcgaW4gLnBsZWFzZSB0cnkgcmVmcmVzaGluZyB0aGUgcGFnZS4nLCAnRXJyb3InKTtcbiAgICAgICAgfSk7XG4gIH1cblxuXG5cblxuICAkc2NvcGUucmVnaXN0ZXI9ZnVuY3Rpb24oKVxuICB7XG4gICAgJGh0dHAucG9zdChiYXNlVXJsKycvYWNjb3VudHMvcmVnaXN0ZXInLCAkc2NvcGUubmV3VXNlcilcbiAgICAgICAgLnRoZW4oIGZ1bmN0aW9uKGRhdGEpXG4gICAgICAgIHtcbiAgICAgICAgICBhbmd1bGFyLmVsZW1lbnQoJyNteU1vZGFsJykubW9kYWwoJ2hpZGUnKTtcbiAgICAgICAgICB0b2FzdHIuaW5mbygnUmVnaXN0ZXJlZCBTdWNjZXNmdWxseS4nLCAnUmVnaXN0cmF0aW9uJyk7XG5cbiAgICAgICAgfSwgZnVuY3Rpb24oKXtcbiAgICAgICAgICB0b2FzdHIuZXJyb3IoJ0Vycm9yIGluIHJlZ2lzdHJhdGlvbi4gUGxlYXNlIHRyeSBhZ2Fpbi4nLCAnRXJyb3InKTtcbiAgICAgICAgfSk7XG4gIH1cblxuXG5cbiAgJHNjb3BlLmxvZ291dD1mdW5jdGlvbigpXG4gIHtcbiAgICAkaHR0cCh7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIHVybDogYmFzZVVybCArICcvYWNjb3VudHMvbG9nb3V0JyxcbiAgICAgIGhlYWRlcnM6IHsndG9rZW4nOiAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbkRhdGEnKX19XG4gICAgKS5zdWNjZXNzKCBmdW5jdGlvbiggZGF0YSApXG4gICAgICAgIHtcbiAgICAgICAgICAkd2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd0b2tlbkRhdGEnKTtcbiAgICAgICAgICAkd2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdyb2xlJyk7XG4gICAgICAgICAgJHdpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndXNlcl9pZCcpO1xuICAgICAgICAgIHRvYXN0ci5pbmZvKCdMb2dnZWQgT3V0IFN1Y2Nlc2Z1bGx5LicsICdMb2dvdXQnKTtcblxuICAgICAgICB9KVxuICAgICAuZXJyb3IoIGZ1bmN0aW9uKCBkYXRhKVxuICAgICAgICB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ2Vycm9yJyk7XG4gICAgICAgICAgdG9hc3RyLmVycm9yKCdFcnJvciBpbiBMb2dnaW5nIG91dCcsICdFcnJvcicpO1xuICAgICAgICB9KTtcbiAgfVxuXG4gICRzY29wZS5pc0FjdGl2ZSA9IGZ1bmN0aW9uICh2aWV3TG9jYXRpb24pIHtcbiAgICByZXR1cm4gdmlld0xvY2F0aW9uID09PSAkbG9jYXRpb24ucGF0aCgpO1xuICB9O1xufSk7XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
